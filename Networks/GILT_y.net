T   : U, l, r, D
Qu  : u, U
Qd  : D, d
TOUT: u, l; r, d

#             u
#        ┌────┘
#        │ ┏━╳━━┓
#        └>┨ Qu ┠>┐
#          ┗━━━━┛ │
#            ┌────┘
#            U                         u
#       ┌────┘                    ┌────┘
#       │ ┏━╳━━┓                  │ ┏━╳━━┓
#       └>┨    ┃                  └>┨    ┃
#   l────>┨ T  ┠>────r    ──>    l─>┨TOUT┠>─r
#         ┃    ┠>┐                  ┃    ┠>┐
#         ┗━━━━┛ │                  ┗━━━━┛ │
#            ┌───┘                     ┌───┘
#            D                         d
#       ┌────┘
#       │ ┏━╳━━┓
#       └>┨ Qd ┠>┐
#         ┗━━━━┛ │
#           ┌────┘
#           d